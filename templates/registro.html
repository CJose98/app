<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <link rel="stylesheet" href="../static/style.css">
</head>
<body>
    <div class="contenedor">
        <form id="profile_form"> 
            <h1>Registro</h1>
            <div class="input-box">
            <input type="text" id="email" name="correo" placeholder="Correo electrónico" required>
            </div>
            <div class="input-box">
                <input type="text" id="username" name="nombre_usuario" placeholder="Nombre de usuario" required>
            </div>
            <div class="input-box">
                <input type="text" id="first_name" name="nombre" placeholder="Tu Nombre" required>
            </div>
            <div class="input-box">
                <input type="text" id="last_name" name="apellido" placeholder="Tu Apellido" required>
            </div>
            <div class="input-box">
                <input type="password" id="password" name="contrasena" placeholder="Contraseña" required>
            </div>
    
            <div class="input-box">
                <label for="fecha_nacimiento">Fecha de nacimiento:</label>
                <select name="dia" id="dia" required>
                    <option value="">Día</option>
                </select>
                <select name="mes" id="mes" required>
                    <option value="">Mes</option>
                    <option value="1">Enero</option>
                    <option value="2">Febrero</option>
                    <option value="3">Marzo</option>
                    <option value="4">Abril</option>
                    <option value="5">Mayo</option>
                    <option value="6">Junio</option>
                    <option value="7">Julio</option>
                    <option value="8">Agosto</option>
                    <option value="9">Setiembre</option>
                    <option value="10">Octubre</option>
                    <option value="11">Noviembre</option>
                    <option value="12">Diciembre</option>
                </select>
                <select name="año" id="año" required>
                    <option value="">Año</option>
                </select>
            </div>
            <button type="submit" class="btn">Confirmar</button>
            <div class="register-link">
                <p>¿Ya tiene una cuenta? <a href="/auth/login">Iniciar sesión</a></p>
            </div>
        </form>
    </div>
        
    <script>
        src="profile.js"
        // Para eque el calendario permita poner fechas reales.
        var diaSelect = document.getElementById('dia');
        var mesSelect = document.getElementById('mes');
        var añoSelect = document.getElementById('año');

        // Función para actualizar las opciones de día en función del mes seleccionado
        function actualizarDias() {
            // Para obtener el valor seleccionado del mes
            var mes = parseInt(mesSelect.value);

            // Limpia las opciones actuales de día, asi se actualiza a la cantidad de dias del mes
            diaSelect.innerHTML = '<option value="">Día</option>';

            // Obtener el número máximo de días para el mes seleccionado
            var maxDias;
            if (mes === 2) {
                // para febrero que tiene 28 días
                maxDias = 28;
            } else if (mes === 4 || mes === 6 || mes === 9 || mes === 11) {
                // Abril, junio, septiembre y noviembre tienen 30 días
                maxDias = 30;
            } else {
                // Resto de los meses
                maxDias = 31;
            }

            // Para las opciones de día correspondientes
            for (var i = 1; i <= maxDias; i++) {
                var option = document.createElement('option');
                option.value = i;
                option.textContent = i;
                diaSelect.appendChild(option);
            }
        }

        // Función para generar las opciones de año. No incluye años bisiestos
        function generarAños() {
            var añoActual = new Date().getFullYear();
            var añoInicio = añoActual - 100; // Para ajustar el rango

            for (var i = añoInicio; i <= añoActual; i++) {
                var option = document.createElement('option');
                option.value = i;
                option.textContent = i;
                añoSelect.appendChild(option);
            }
        }

        // Llamar a las funciones para generar las opciones iniciales
        actualizarDias();
        generarAños();

        // Agregar evento change al select de mes para actualizar los días
        mesSelect.addEventListener('change', actualizarDias);
    </script>
</body>
</html>